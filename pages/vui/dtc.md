---
layout: post
title: Карточки ситуаций
permalink: /vui/dtc/
---

В разговорных интерфейсках часто встречаются одношаговые сценарии: пользователь задаёт вопрос, а бот выдаёт ему ответ. Рисовать полноценные схемы для подобных ситуаций нет смысла, поэтому мы проектируем их с помощью особых элементов — карточек ситуаций.

### Что такое карточка ситуации
Карточка ситуации (Dialog Turn Card, DTC) — это контейнер, описывающий состояние системы. Может состоять из следующих компонентов:

| Компонент | Описание | Примеры |
|---|---|---|
| *Контекст* | Состояние, из которого можно <br> перейти в карточку | - Весь сценарий <br> - Конкретное состояние <br> - Любой сценарий (глобальный контекст)|
| *Интент*  | Намерение пользователя | - Голосовой запрос <br> - Ввод текста <br> - Нажатие кнопки|  
| *Условие* | Дополнительные условия <br> попадания в карточку | - Пользователь авторизован <br> - Указано некорректное значение|
|*Промпт*| Ответы бота| - Текст на экране <br> - ТТS |
|*Действия*| Действия, следующие <br> за промптом | - Вывести карточку <br> - Показать эмоцию <br> - Перейти в другое состояние |


Выглядеть карточка может как угодно. Лишь бы было понятно и все в команде придерживались одного стиля.

### Какие бывают ситуации

**Одношаговые сценарии и FAQ**. В том числе, если интент и контекст один, но ответ бота зависит от 1-2 дополнительных условий.

<p align="left">
  <img src="/images/vui/dtc/faq.png">
</p>

**Cообщения об ошибках**. No Match (CatchAll), No Input, ошибки формата данных.

<p align="left">
  <img src="/images/vui/dtc/errors.png">
</p>

**Дозапрос значений параметров**. Только если сценарии работают по схеме [конечного автомата](https://ru.wikipedia.org/wiki/Конечный_автомат): интент на входе, ответ бота на выходе, дозапрос параметров при необходимости. 

<p align="left">
  <img src="/images/vui/dtc/params.png">
</p>
