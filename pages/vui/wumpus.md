---
layout: post-vui
title: Игра «Охота на Вампуса»
summary: 
date: 2021-10-30 00:00
category: vui
permalink: /vui/wumpus/
---

В 1972 году Грегори Йобом написал классическую текстовую игру Hunt the Wumpus. 50 лет спустя я сделал её голосовой аналог для Алисы.

### О чем был оригинал

Вампус — это огромный монстр, обитающий в пещерах. Вонючий, шумный, с присосками. Задача игрока — выследить Вампуса и застрелить его.

Пещера Вампуса состоит из 20 комнат. Из каждой комнаты можно попасть в три других. Получается лабиринт в форме расплющенного додекаэдра, что добавляет ощущения дизориентации в пространстве.

Помимо Вампуса в случайных комнатах находятся две ямы и две гигантских летучих мыши. От ям игрок погибает, а летучие мыши переносят его в другую случайную комнату. Даже если там Вампус.

Если игрок окажется в одной комнате с Вампусом, то тот его съест. Поэтому убить Вампуса можно только выстрелом из соседней комнаты. В оригинальной игре 1972 года стрелы игрока даже могли менять направление и бить на несколько комнат вперед.

Узнать о приближении Вампуса, ямы или летучей мыши можно было по запаху, сквозняку или шуму крыльев. Фраза «I smell a Wumpus» надолго засела в памяти детей того времени.

### Что изменилось с переходом «в голос»

При создании версии для Алисы я ориентировался как на смартфоны, так и на умные колонки. На экране отображается информация о комнатах, но игру можно пройти и без экрана — все обстановка озвучивается приятным синтезированным голосом Эрмила. 

Об опасностях теперь можно узнать, прислушавшись к звукам в комнате — это помогает глубже погрузиться в атмосферу. Зловещий рёв говорит о приближении Вампуса, рядом с ямами бушует сквозняк, а мыши пищат и хлопают крыльями. 

Умные стрелы пришлось выбросить, т.к. их путь крайне тяжело просчитать, не видя перед собой карты.

### Разнообразие

Перемещаться между безликими корридорами было невыносимо скучно, поэтому каждую комнату я превратил в тематическую локацию. Их можно условно разделить на три части: первобытное общество, древний город и чудеса природы.

Открывая новую локацию, игрок может найти сокровище. В каждой игре их всего пять, но они всегда появляются в разных комнатах и тематически связаны со своими локациями. В тронном зале можно найти корону, а в амфитеатре - сценарий пьессы. Всего в игре около 50 разных сокровищ.

Почти у каждой реплики есть несколько вариантов. Завораживающий голос Эрмила позволил составить фразы, звучащие будто с экрана загрузки третьего «Ведьмака». Иногда Эрмил добавляет в свои реплики небольшие комментарии, что также добавляет игре разнообразия.

### Удобство 

При разработке я придерживался двух принципов:

1. Игрок может говорить что угодно.

2. Игрок плохо запоминает числа.

Исходя из первого принципа, я подготовил ответы на вопросы, которые могут возникнуть у пользователя во время игры: кто такой Вампус, зачем нужны сокровища и что нужно сделать для победы. Я также добавил возможность совершать быстрые действия в обход подсказкам в интерфейсе — вместо того, чтобы нажимать «Огонь» и выбирать комнату, игрок может просто сказать «Стреляй в комнату 12!».

Исходя из второго принципа, я добавил сообщения-напоминалки. В любой момент пользователь может спросить «Куда я могу идти» или «Напомни номера комнат» и получить ответ. Подобные штуки оказались незаменимы для игры без экрана, т.к. между озвучиванием номеров комнат и концом реплики ассистента проходит достаточно много времени — можно отвлечься и всё забыть.

### Трудности

Несмотря на прекрасный голос, Эрмил обрабатывает интонации хуже Алисы. Поэтому во многих фразах пришлось вручную расставлять паузы и избегать вопросительных предложений.

### Планы на будущее
Хотелось бы добавить в игру больше графики и реализовать таблицу с результатами. Так пользователь будет видеть, насколько он крут.

















Большая часть денег хранится на карте. Раз в месяц часть средств автоматически переводится на накопительный счет, а другая часть идет на оплату ипотеки, интернета и других фиксированных платежей. Оставшиеся деньги мы тратим на ежедневные расходы. 

Каждая операция с участием карты или счета автоматически заносится в Дзен-Мани. Всё, что нам остается — это вести учет наличных средств и подводить итоги в конце месяца. 

Ниже я описал шаги, по которым вы сможете собрать такую систему. Оговорюсь, что работает она не со всеми банками и я не знаю, подойдет ли она именно вам. Где-то может не работать импорт операций или списываться комиссии за переводы. Будьте бдительны.

### Шаг 1. Выбираем дебетовую карту
Дебетовая карта — это центр системы. Через нее проходит большая часть операций, а наличные остаются на мелкие расходы. И если до этого момента вы использовали карту только для снятия наличных, самое время раскрыть её потенциал.

<div class="note">Статья по теме:<br><a href="https://journal.tinkoff.ru/zp2black/" target="_blank">Как получать зарплату на свою карту</a></div>

Это не обязательно должна быть ваша зарплатная карта. Работодатель обычно выбирает тот банк, в котором выгоднее ему, а не вам. В то же время многие банки сейчас выпускают карты с большим спектром возможностей и обширной сетью банкоматов. А если договоритесь с работодателем, то и зарплату сможете получать на ту карту, которая вам нравится. 

При выборе карты обратите внимание на следующие моменты: 
 * какой репутацией пользуется банк у клиентов?
 * нужно ли платить за обслуживание карты?
 * взымается ли комиссия за переводы между банками?
 * удобно ли пополнять карту и снимать с неё деньги? 
 * предусмотрен ли кешбек и выплата процентов на остаток?
 * поддерживает ли карта технологию PayPass? 

Кешбэк — это часть стоимости покупки, которая возвращается на карту. Как правило составляет 1-2% от потраченной суммы. Потратили 20&nbsp;000 рублей — в следующем месяце получили 200-400 рублей от банка.

PayPass — это технология бесконтактных платежей. С её помощью можно оплачивать покупки, приложив карту к терминалу. Экономит время на кассе.

Подобрать подходящую карту можно на сайте <a href="http://www.banki.ru/products/debitcards/catalogue/luchshaya_debetovaya_karta/" target="_blank">banki.ru</a>. 

Полностью избавиться от наличных не получится, так как карты принимают ещё не везде. Кроме того, у вас должны оставаться свободные деньги на тот случай, если карту временно заблокируют.

### Шаг 2. Добавляем накопительный счет
<a href="/finance-zen/planning/" target="_blank">В заметке о планировании бюджета</a> я писал о том, что 20% дохода должно уходить в накопления. Для их хранения нужно создать отдельный накопительный счет в том же банке. Это позволит бесплатно пополнять его с карты и управлять всеми счетами из одного личного кабинета.

Обратите внимание, что накопительный счет и подушка безопасности — это разные вещи. Накопительный счет помогает откладывать деньги на большие цели вроде путешествия или машины. Подушка безопасности же защищает от непредвиденных обстоятельств. Её лучше хранить в другом банке и не трогать без необходимости.

### Шаг 3. Автоматизируем операции
Каждый месяц мы делаем одни и те же вещи: откладываем деньги с зарплаты, оплачиваем квартиру, возвращаем деньги по кредиту и так далее. Такие операций можно автоматизировать через личный кабинет банка. 

![Примеры автоплатежей](/images/posts/FZ-autopay.png)

<sub>Примеры автоплатежей</sub>

Личный кабинет — как личный помощник, которому можно давать указания по управлению деньгами:
* Каждое 1-е число месяца переводи 15&nbsp;000 рублей с моей карты на карту хозяина квартиры.
* Каждое 15-е число месяца переводи 15&nbsp;000 рублей с моей карты на мой накопительный счет.
* Если на телефоне осталось меньше 30 рублей, положи на него 200 рублей с моей карты. Но не трать на это более 600 рублей в месяц.

Коммунальные платежи я рекомендую оплачивать самим, даже если в банке предлагают настроить автоплатеж. Несколько раз нам и другим жильцам выставляли неправильные счета.

### Шаг 4. Настраиваем импорт в Дзен-Мани
Теперь осталось привязать счета к Дзен-Мани. Тогда каждый раз, когда вы будете расплачиваться картой, расходы будут сразу заноситься в приложение.

Чтобы добавить счета, вам потребуется указать логин и пароль от личного кабинета в интернет-банке. Не волнуйтесь, это безопасно. Ваши учетные данные шифруются и не передаются в Дзен-Мани, а значит злоумышленники не смогут их украсть.

Иногда Дзен-Мани не может правильно распознать транзакцию и в приложении появляются вот такие записи:

![Типичная операция-инкогнито](/images/posts/FZ-Incognito-1.png)

<sub>Типичная операция-инкогнито</sub>

Исправить их можно вручную, но лучше создать специальное правило для такого случая. Тогда приложение будет знать, какую категорию нужно выставить или как правильно писать название магазина. Сделать это можно <a href="https://zenmoney.ru" target="_blank"> на сайте Дзен-Мани </a>, в разделе «Правила».

![Список правил обработки транзакций](/images/posts/FZ-Incognito-2.png)

<sub>Список правил обработки транзакций</sub>

Создавать правило для каждой транзакции не нужно. Достаточно ограничиться самыми распространенными: сети супермаркетов и заправок, любимые кафешки и так далее.

### Шаг 5. Прикручиваем всё остальное
Связка «Карта + Накопительный счет + Дзен-Мани» — это основной модуль системы. При необходимости вы можете присоединить к нему дополнительные карты, счета и кредиты. Так у нас недавно появилась вторая дебетовая карта и счет в Сбербанке, с которого мы оплачиваем ипотеку.

### Вопросы и опасения
**Что если автоплатеж не сработает?** Есть небольшая вероятность, что в банке накосячат и платеж не пройдет. Но с тем же успехом вы можете просто забыть или не успеть оплатить сами. Если речь идет о важных платежах вроде ипотеки, назначте их на первое число месяца. Так проще запомнить. Если в Дзен-Мани за этот день не отобразился платеж, стоит проверить его в банке.

**Что если с карты спишется больше денег, чем нужно?** Банк может проводить только те операции, на которые вы сами дали согласие. Внимательно читайте условия договора, проверяйте его на наличие дополнительных платежей.

**Что если после всех платежей на карте останется мало денег?** <a href="/finance-zen/safe/" target="_blank"> В предыдущей заметке</a> я рассказывал о резерве. Он как раз и нужен для таких случаев. 

<div class="note">Статья по теме:<br><a href="https://journal.tinkoff.ru/selected/fraud/" target="_blank"> Они вас разводят</a></div>

**Что если с карты украдут деньги?** Чтобы не стать жертвой мошенников, придерживайтесь простых правил: не снимайте деньги в незнакомых местах, не заходите в онлайн-банк через публичный Wi-Fi и не храните на карте все свои сбережения. Если почувствовали неладное — сразу же звоните в банк.

**Что если украдут саму карту?** Даже если у вас карта с технологией PayPass, злоумышленник не сможет быстро потратить с неё все деньги. Как правило, для подтверждения операций на сумму свыше 1000 рублей нужно вводить PIN-код. А его у злоумышленника нет. Ну а как только вы заметили пропажу карты, немедленно заблокируйте её.


### С чего начать
1. Заведите дебетовую карту и перекиньте на неё часть наличных средств. Поговорите с работодателем о том, чтобы сделать эту карту зарплатной.
2. Откройте накопительный счет. Сделать это можно через личный кабинет банка.
3. Настройте автоплатежи для повторяющихся операций и перевода средств между счетами.
4. Настройте в Дзен-Мани импорт операций с ваших счетов. 

На этом всё. В последней части будет обзорная супер-иструкция по всему, о чем мы говорили.

<!--Содержание цикла-->
<div class="post p0 p-responsive wrap intro-fz">
<h3>Что это было?</h3>
<p>Эта статья — часть цикла об упрощении и автоматизации домашних финансов:</p>
<ol>
  0. <a href="/finance-zen/">Вступление</a><br>
  1. <a href="/finance-zen/structure/">Структура и командная работа</a><br>
  2. <a href="/finance-zen/planning/">Учет и планирование</a><br>
  3. <a href="/finance-zen/safe/">Безопасность и накопления</a><br>
  4. Автоматизация <i>← вы здесь</i><br>
  5. <a href="/finance-zen/summary/"> Резюме </a>
</ol>
</div>